{
  "name": "Wan 2.2",
  "description": "Workflow for Wan 2.2 video generation",
  "defaults": {
    "width": 480,
    "height": 800,
    "length": 49,
    "frame_rate": 24,
    "negative_prompt": "色调艳丽，过曝，静态，细节模糊不清，字幕，风格，作品，画作，画面，静止，整体发灰，最差质量，低质量，JPEG压缩残留，丑陋的，残缺的，多余的手指，画得不好的手部，画得不好的脸部，畸形的，毁容的，形态畸形的肢体，手指融合，静止不动的画面，杂乱的背景，三条腿，背景人很多，倒着走"
  },
  "nodes": {
    "1": {
      "class_type": "CLIPLoader",
      "inputs": {
        "clip_name": "{{clip_name}}",
        "type": "wan",
        "device": "default"
      },
      "_meta": {
        "title": "Load CLIP"
      }
    },
    "2": {
      "class_type": "VAELoader",
      "inputs": {
        "vae_name": "{{vae_name}}"
      },
      "_meta": {
        "title": "Load VAE"
      }
    },
    "3": {
      "class_type": "UNETLoader",
      "inputs": {
        "unet_name": "{{highnoise_unet_name}}",
        "weight_dtype": "default"
      },
      "_meta": {
        "title": "Load Diffusion Model (High Noise)"
      }
    },
    "4": {
      "class_type": "UNETLoader",
      "inputs": {
        "unet_name": "{{lownoise_unet_name}}",
        "weight_dtype": "default"
      },
      "_meta": {
        "title": "Load Diffusion Model (Low Noise)"
      }
    },
    "5": {
      "class_type": "EmptyHunyuanLatentVideo",
      "inputs": {
        "width": "{{width}}",
        "height": "{{height}}",
        "length": "{{length}}",
        "batch_size": "{{batch_size}}"
      },
      "_meta": {
        "title": "Empty HunyuanVideo 1.0 Latent"
      }
    },
    "6": {
      "class_type": "CLIPTextEncode",
      "inputs": {
        "text": "{{positive_prompt}}",
        "clip": ["1", 0]
      },
      "_meta": {
        "title": "CLIP Text Encode (Positive Prompt)"
      }
    },
    "7": {
      "class_type": "CLIPTextEncode",
      "inputs": {
        "text": "{{negative_prompt}}",
        "clip": ["1", 0]
      },
      "_meta": {
        "title": "CLIP Text Encode (Negative Prompt)"
      }
    },
    "8": {
      "class_type": "ModelSamplingSD3",
      "inputs": {
        "shift": 8.0,
        "model": ["3", 0]
      },
      "_meta": {
        "title": "ModelSamplingSD3 (High Noise)"
      }
    },
    "9": {
      "class_type": "ModelSamplingSD3",
      "inputs": {
        "shift": 8.0,
        "model": ["4", 0]
      },
      "_meta": {
        "title": "ModelSamplingSD3 (Low Noise)"
      }
    },
    "10": {
      "class_type": "KSamplerAdvanced",
      "inputs": {
        "add_noise": "enable",
        "noise_seed": "{{seed}}",
        "steps": 20,
        "cfg": 3.5,
        "sampler_name": "euler",
        "scheduler": "simple",
        "start_at_step": 0,
        "end_at_step": 10,
        "return_with_leftover_noise": "enable",
        "model": ["8", 0],
        "positive": ["6", 0],
        "negative": ["7", 0],
        "latent_image": ["5", 0]
      },
      "_meta": {
        "title": "KSampler (Advanced) - High Noise"
      }
    },
    "11": {
      "class_type": "KSamplerAdvanced",
      "inputs": {
        "add_noise": "disable",
        "noise_seed": "{{seed}}",
        "steps": 20,
        "cfg": 3.5,
        "sampler_name": "euler",
        "scheduler": "simple",
        "start_at_step": 10,
        "end_at_step": 20,
        "return_with_leftover_noise": "disable",
        "model": ["9", 0],
        "positive": ["6", 0],
        "negative": ["7", 0],
        "latent_image": ["10", 0]
      },
      "_meta": {
        "title": "KSampler (Advanced) - Low Noise"
      }
    },
    "12": {
      "class_type": "VAEDecode",
      "inputs": {
        "samples": ["11", 0],
        "vae": ["2", 0]
      },
      "_meta": {
        "title": "VAE Decode"
      }
    },
    "13": {
      "class_type": "CreateVideo",
      "inputs": {
        "fps": "{{frame_rate}}",
        "images": ["12", 0]
      },
      "_meta": {
        "title": "Create Video"
      }
    },
    "14": {
      "class_type": "SaveVideo",
      "inputs": {
        "filename_prefix": "video/ComfyChair",
        "format": "auto",
        "codec": "auto",
        "video-preview": "",
        "video": ["13", 0]
      },
      "_meta": {
        "title": "Save Video"
      }
    }
  }
}
